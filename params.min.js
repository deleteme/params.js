(function(){var a;return a=this,a.Params=function(){function b(c){this._location=c||a.location,this._search=this._location.search,this._prefix=this._location.protocol+"//"+this._location.host+this._location.pathname,this._params={},this._pairs=[];if(!this.validate(this._search))throw"Initializing Params with invalid location.search.";this._params=b.parse(this._search),this._buildPairs()}return b.prototype._set=function(a,b){return this._params[a]=b,this._buildPairs(),b},b.prototype._buildPairs=function(){var a;return this._pairs=function(){var b;b=[];for(a in this._params)b.push(""+a+"="+this._params[a]);return b}.call(this)},b.prototype.href=function(){return this._prefix+this.search()},b.prototype.search=function(){return this._pairs.length>0?"?"+this._pairs.join("&"):""},b.prototype.set=function(){var a,b;a=arguments[0];if(typeof a=="string"||typeof a=="number")return this._set(String(a),arguments[1]);if(typeof a=="object"){for(b in a)this._set(b,a[b]);return a}throw"Unexpected data type for: "+a+". Should be a string, number, or object"},b.prototype.unset=function(a){var b;return b=this._params[a],delete this._params[a],this._buildPairs(),b},b.prototype._validations=[function(a){return typeof a=="string"},function(a){return a.length>0?a.match(/^\?/):!0},function(a){return!a.match(/&$/)}],b.prototype.validate=function(a){var b,c,d,e,f;b=!0,f=this._validations;for(d=0,e=f.length;d<e;d++){c=f[d],b=c(a);if(!b)break}return b},b.prototype.get=function(a){return this._params[a]},b}(),a.Params.parse=function(a){var b,c,d,e,f;d={},c=[],c=a.slice(1+a.indexOf("?"),a.length).split("&");for(e=0,f=c.length;e<f;e++)b=c[e],b=b.split("="),d[b[0]]=b[1];return d}})();
